/*
 * jQuery FlexSlider v2.2 - Beta
 * http://www.woothemes.com/flexslider/
 *
 * Copyright 2012 WooThemes
 * Free to use under the GPLv2 license.
 * http://www.gnu.org/licenses/gpl-2.0.html
 *
 * Contributing author: Tyler Smith (@mbmufffin)
 */
(function(d){d.flexslider=function(h,k){var a=d(h);a.vars=d.extend({},d.flexslider.defaults,k);var e=a.vars.namespace,u=("ontouchstart"in window||window.navigator.msPointerEnabled||window.DocumentTouch&&document instanceof DocumentTouch)&&a.vars.touch,j="",v,n="vertical"===a.vars.direction,m=a.vars.reverse,l=0<a.vars.itemWidth,q="fade"===a.vars.animation,r=""!==a.vars.asNavFor,g={};focused=!0;d.data(h,"flexslider",a);g={init:function(){a.animating=!1;a.currentSlide=a.vars.startAt;a.animatingTo=a.currentSlide;
a.atEnd=0===a.currentSlide||a.currentSlide===a.last;a.containerSelector=a.vars.selector.substr(0,a.vars.selector.search(" "));a.slides=d(a.vars.selector,a);a.container=d(a.containerSelector,a);a.count=a.slides.length;a.syncExists=0<d(a.vars.sync).length;"slide"===a.vars.animation&&(a.vars.animation="swing");a.prop=n?"top":"marginLeft";a.args={};a.manualPause=!1;a.stopped=!1;var b=a,c;if(c=!a.vars.video)if(c=!q)if(c=a.vars.useCSS)a:{c=document.createElement("div");var f=["perspectiveProperty","WebkitPerspective",
"MozPerspective","OPerspective","msPerspective"],e;for(e in f)if(void 0!==c.style[f[e]]){a.pfx=f[e].replace("Perspective","").toLowerCase();a.prop="-"+a.pfx+"-transform";c=!0;break a}c=!1}b.transitions=c;""!==a.vars.controlsContainer&&(a.controlsContainer=0<d(a.vars.controlsContainer).length&&d(a.vars.controlsContainer));""!==a.vars.manualControls&&(a.manualControls=0<d(a.vars.manualControls).length&&d(a.vars.manualControls));a.vars.randomize&&(a.slides.sort(function(){return Math.round(Math.random())-
0.5}),a.container.empty().append(a.slides));a.doMath();r&&g.asNav.setup();a.setup("init");a.vars.controlNav&&g.controlNav.setup();a.vars.directionNav&&g.directionNav.setup();a.vars.keyboard&&(1===d(a.containerSelector).length||a.vars.multipleKeyboard)&&d(document).bind("keyup",function(b){b=b.keyCode;if(!a.animating&&(39===b||37===b))b=39===b?a.getTarget("next"):37===b?a.getTarget("prev"):!1,a.flexAnimate(b,a.vars.pauseOnAction)});a.vars.mousewheel&&a.bind("mousewheel",function(b,c){b.preventDefault();
var f=0>c?a.getTarget("next"):a.getTarget("prev");a.flexAnimate(f,a.vars.pauseOnAction)});a.vars.pausePlay&&g.pausePlay.setup();a.vars.slideshow&&(a.vars.pauseOnHover&&a.hover(function(){!a.manualPlay&&!a.manualPause&&a.pause()},function(){!a.manualPause&&(!a.manualPlay&&!a.stopped)&&a.play()}),0<a.vars.initDelay?setTimeout(a.play,a.vars.initDelay):a.play());u&&a.vars.touch&&g.touch();(!q||q&&a.vars.smoothHeight)&&d(window).bind("resize orientationchange focus",g.resize);setTimeout(function(){a.vars.start(a)},
200)},asNav:{setup:function(){a.asNav=!0;a.animatingTo=Math.floor(a.currentSlide/a.move);a.currentItem=a.currentSlide;a.slides.removeClass(e+"active-slide").eq(a.currentItem).addClass(e+"active-slide");a.slides.click(function(b){b.preventDefault();b=d(this);var c=b.index();0>=b.offset().left-d(a).scrollLeft()&&b.hasClass(e+"active-slide")?a.flexAnimate(a.getTarget("prev"),!0):!d(a.vars.asNavFor).data("flexslider").animating&&!b.hasClass(e+"active-slide")&&(a.direction=a.currentItem<c?"next":"prev",
a.flexAnimate(c,a.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){a.manualControls?g.controlNav.setupManual():g.controlNav.setupPaging()},setupPaging:function(){var b=1,c,f;a.controlNavScaffold=d('<ol class="'+e+"control-nav "+e+("thumbnails"===a.vars.controlNav?"control-thumbs":"control-paging")+'"></ol>');if(1<a.pagingCount)for(var h=0;h<a.pagingCount;h++)f=a.slides.eq(h),c="thumbnails"===a.vars.controlNav?'<img src="'+f.attr("data-thumb")+'"/>':"<a>"+b+"</a>","thumbnails"===a.vars.controlNav&&
!0===a.vars.thumbCaptions&&(f=f.attr("data-thumbcaption"),""!=f&&void 0!=f&&(c+='<span class="'+e+'caption">'+f+"</span>")),a.controlNavScaffold.append("<li>"+c+"</li>"),b++;a.controlsContainer?d(a.controlsContainer).append(a.controlNavScaffold):a.append(a.controlNavScaffold);g.controlNav.set();g.controlNav.active();a.controlNavScaffold.delegate("a, img","click touchend MSPointerUp",function(b){b.preventDefault();if(""===j||j===b.type){var c=d(this),f=a.controlNav.index(c);c.hasClass(e+"active")||
(a.direction=f>a.currentSlide?"next":"prev",a.flexAnimate(f,a.vars.pauseOnAction))}""===j&&(j=b.type);g.setToClearWatchedEvent()})},setupManual:function(){a.controlNav=a.manualControls;g.controlNav.active();a.controlNav.bind("click touchend MSPointerUp",function(b){b.preventDefault();if(""===j||j===b.type){var c=d(this),f=a.controlNav.index(c);c.hasClass(e+"active")||(f>a.currentSlide?a.direction="next":a.direction="prev",a.flexAnimate(f,a.vars.pauseOnAction))}""===j&&(j=b.type);g.setToClearWatchedEvent()})},
set:function(){a.controlNav=d("."+e+"control-nav li "+("thumbnails"===a.vars.controlNav?"img":"a"),a.controlsContainer?a.controlsContainer:a)},active:function(){a.controlNav.removeClass(e+"active").eq(a.animatingTo).addClass(e+"active")},update:function(b,c){1<a.pagingCount&&"add"===b?a.controlNavScaffold.append(d("<li><a>"+a.count+"</a></li>")):1===a.pagingCount?a.controlNavScaffold.find("li").remove():a.controlNav.eq(c).closest("li").remove();g.controlNav.set();1<a.pagingCount&&a.pagingCount!==
a.controlNav.length?a.update(c,b):g.controlNav.active()}},directionNav:{setup:function(){var b=d('<ul class="'+e+'direction-nav"><li><a class="'+e+'prev" href="#">'+a.vars.prevText+'</a></li><li><a class="'+e+'next" href="#">'+a.vars.nextText+"</a></li></ul>");a.controlsContainer?(d(a.controlsContainer).append(b),a.directionNav=d("."+e+"direction-nav li a",a.controlsContainer)):(a.append(b),a.directionNav=d("."+e+"direction-nav li a",a));g.directionNav.update();a.directionNav.bind("click touchend MSPointerUp",
function(b){b.preventDefault();var f;if(""===j||j===b.type)f=d(this).hasClass(e+"next")?a.getTarget("next"):a.getTarget("prev"),a.flexAnimate(f,a.vars.pauseOnAction);""===j&&(j=b.type);g.setToClearWatchedEvent()})},update:function(){var b=e+"disabled";1===a.pagingCount?a.directionNav.addClass(b).attr("tabindex","-1"):a.vars.animationLoop?a.directionNav.removeClass(b).removeAttr("tabindex"):0===a.animatingTo?a.directionNav.removeClass(b).filter("."+e+"prev").addClass(b).attr("tabindex","-1"):a.animatingTo===
a.last?a.directionNav.removeClass(b).filter("."+e+"next").addClass(b).attr("tabindex","-1"):a.directionNav.removeClass(b).removeAttr("tabindex")}},pausePlay:{setup:function(){var b=d('<div class="'+e+'pauseplay"><a></a></div>');a.controlsContainer?(a.controlsContainer.append(b),a.pausePlay=d("."+e+"pauseplay a",a.controlsContainer)):(a.append(b),a.pausePlay=d("."+e+"pauseplay a",a));g.pausePlay.update(a.vars.slideshow?e+"pause":e+"play");a.pausePlay.bind("click touchend MSPointerUp",function(b){b.preventDefault();
if(""===j||j===b.type)d(this).hasClass(e+"pause")?(a.manualPause=!0,a.manualPlay=!1,a.pause()):(a.manualPause=!1,a.manualPlay=!0,a.play());""===j&&(j=b.type);g.setToClearWatchedEvent()})},update:function(b){"play"===b?a.pausePlay.removeClass(e+"pause").addClass(e+"play").text(a.vars.playText):a.pausePlay.removeClass(e+"play").addClass(e+"pause").text(a.vars.pauseText)}},touch:function(){function b(b){if(a.animating)b.preventDefault();else if(window.navigator.msPointerEnabled||1===b.touches.length)a.pause(),
j=n?a.h:a.w,k=Number(new Date),s=b.touches[0].pageX,t=b.touches[0].pageY,window.navigator.msPointerEnabled&&(s=b.pageX,t=b.pageY),g=l&&m&&a.animatingTo===a.last?0:l&&m?a.limit-(a.itemW+a.vars.itemMargin)*a.move*a.animatingTo:l&&a.currentSlide===a.last?a.limit:l?(a.itemW+a.vars.itemMargin)*a.move*a.currentSlide:m?(a.last-a.currentSlide+a.cloneOffset)*j:(a.currentSlide+a.cloneOffset)*j,d=n?t:s,e=n?s:t,h.addEventListener("touchmove",c,!1),h.addEventListener("touchend",f,!1),window.navigator.msPointerEnabled&&
(h.addEventListener("MSPointerMove",c,!1),h.addEventListener("MSPointerOut",f,!1))}function c(b){window.navigator.msPointerEnabled?(s=b.pageX,t=b.pageY):(s=b.touches[0].pageX,t=b.touches[0].pageY);p=n?d-t:d-s;r=n?Math.abs(p)<Math.abs(s-e):Math.abs(p)<Math.abs(t-e);var c=window.navigator.msPointerEnabled?100:500;if(!r||Number(new Date)-k>c)b.preventDefault(),!q&&a.transitions&&(a.vars.animationLoop||(p/=0===a.currentSlide&&0>p||a.currentSlide===a.last&&0<p?Math.abs(p)/j+2:1),a.setProps(g+p,"setTouch"))}
function f(){h.removeEventListener("touchmove",c,!1);window.navigator.msPointerEnabled&&h.removeEventListener("MSPointerMove",c,!1);if(a.animatingTo===a.currentSlide&&!r&&null!==p){var b=m?-p:p,l=0<b?a.getTarget("next"):a.getTarget("prev");a.canAdvance(l)&&(550>Number(new Date)-k&&50<Math.abs(b)||Math.abs(b)>j/2)?a.flexAnimate(l,a.vars.pauseOnAction):q||a.flexAnimate(a.currentSlide,a.vars.pauseOnAction,!0)}h.removeEventListener("touchend",f,!1);window.navigator.msPointerEnabled&&h.removeEventListener("MSPointerOut",
f,!1);g=p=e=d=null}var d,e,g,j,p,k,r=!1,s=0,t=0;h.addEventListener("touchstart",b,!1);window.navigator.msPointerEnabled&&h.addEventListener("MSPointerDown",b,!1)},resize:function(){!a.animating&&a.is(":visible")&&(l||a.doMath(),q?g.smoothHeight():l?(a.slides.width(a.computedW),a.update(a.pagingCount),a.setProps()):n?(a.viewport.height(a.h),a.setProps(a.h,"setTotal")):(a.vars.smoothHeight&&g.smoothHeight(),a.newSlides.width(a.computedW),a.setProps(a.computedW,"setTotal")))},smoothHeight:function(b){if(!n||
q){var c=q?a:a.viewport;b?c.animate({height:a.slides.eq(a.animatingTo).height()},b):c.height(a.slides.eq(a.animatingTo).height())}},sync:function(b){var c=d(a.vars.sync).data("flexslider"),f=a.animatingTo;switch(b){case "animate":c.flexAnimate(f,a.vars.pauseOnAction,!1,!0);break;case "play":!c.playing&&!c.asNav&&c.play();break;case "pause":c.pause()}},setToClearWatchedEvent:function(){clearTimeout(v);v=setTimeout(function(){j=""},3E3)}};a.flexAnimate=function(b,c,f,h,j){b!==a.currentSlide&&(a.direction=
b>a.currentSlide?"next":"prev");r&&1===a.pagingCount&&(a.direction=a.currentItem<b?"next":"prev");if(!a.animating&&(a.canAdvance(b,j)||f)&&a.is(":visible")){if(r&&h)if(f=d(a.vars.asNavFor).data("flexslider"),a.atEnd=0===b||b===a.count-1,f.flexAnimate(b,!0,!1,!0,j),a.direction=a.currentItem<b?"next":"prev",f.direction=a.direction,Math.ceil((b+1)/a.visible)-1!==a.currentSlide&&0!==b)a.currentItem=b,a.slides.removeClass(e+"active-slide").eq(b).addClass(e+"active-slide"),b=Math.floor(b/a.visible);else return a.currentItem=
b,a.slides.removeClass(e+"active-slide").eq(b).addClass(e+"active-slide"),!1;a.animating=!0;a.animatingTo=b;a.vars.before(a);c&&a.pause();a.syncExists&&!j&&g.sync("animate");a.vars.controlNav&&g.controlNav.active();l||a.slides.removeClass(e+"active-slide").eq(b).addClass(e+"active-slide");a.atEnd=0===b||b===a.last;a.vars.directionNav&&g.directionNav.update();b===a.last&&(a.vars.end(a),a.vars.animationLoop||a.pause());if(q)u?(a.slides.eq(a.currentSlide).css({opacity:0,zIndex:1}),a.slides.eq(b).css({opacity:1,
zIndex:2}),a.wrapup(k)):(a.slides.eq(a.currentSlide).css({zIndex:1}).animate({opacity:0},a.vars.animationSpeed,a.vars.easing),a.slides.eq(b).css({zIndex:2}).animate({opacity:1},a.vars.animationSpeed,a.vars.easing,a.wrapup));else{var k=n?a.slides.filter(":first").height():a.computedW;l?(b=a.vars.itemMargin,b=(a.itemW+b)*a.move*a.animatingTo,b=b>a.limit&&1!==a.visible?a.limit:b):b=0===a.currentSlide&&b===a.count-1&&a.vars.animationLoop&&"next"!==a.direction?m?(a.count+a.cloneOffset)*k:0:a.currentSlide===
a.last&&0===b&&a.vars.animationLoop&&"prev"!==a.direction?m?0:(a.count+1)*k:m?(a.count-1-b+a.cloneOffset)*k:(b+a.cloneOffset)*k;a.setProps(b,"",a.vars.animationSpeed);if(a.transitions){if(!a.vars.animationLoop||!a.atEnd)a.animating=!1,a.currentSlide=a.animatingTo;a.container.unbind("webkitTransitionEnd transitionend");a.container.bind("webkitTransitionEnd transitionend",function(){a.wrapup(k)})}else a.container.animate(a.args,a.vars.animationSpeed,a.vars.easing,function(){a.wrapup(k)})}a.vars.smoothHeight&&
g.smoothHeight(a.vars.animationSpeed)}};a.wrapup=function(b){!q&&!l&&(0===a.currentSlide&&a.animatingTo===a.last&&a.vars.animationLoop?a.setProps(b,"jumpEnd"):a.currentSlide===a.last&&(0===a.animatingTo&&a.vars.animationLoop)&&a.setProps(b,"jumpStart"));a.animating=!1;a.currentSlide=a.animatingTo;a.vars.after(a)};a.animateSlides=function(){!a.animating&&focused&&a.flexAnimate(a.getTarget("next"))};a.pause=function(){clearInterval(a.animatedSlides);a.animatedSlides=null;a.playing=!1;a.vars.pausePlay&&
g.pausePlay.update("play");a.syncExists&&g.sync("pause")};a.play=function(){a.animatedSlides=a.animatedSlides||setInterval(a.animateSlides,a.vars.slideshowSpeed);a.playing=!0;a.vars.pausePlay&&g.pausePlay.update("pause");a.syncExists&&g.sync("play")};a.stop=function(){a.pause();a.stopped=!0};a.canAdvance=function(b,c){var f=r?a.pagingCount-1:a.last;return c?!0:r&&a.currentItem===a.count-1&&0===b&&"prev"===a.direction?!0:r&&0===a.currentItem&&b===a.pagingCount-1&&"next"!==a.direction?!1:b===a.currentSlide&&
!r?!1:a.vars.animationLoop?!0:a.atEnd&&0===a.currentSlide&&b===f&&"next"!==a.direction?!1:a.atEnd&&a.currentSlide===f&&0===b&&"next"===a.direction?!1:!0};a.getTarget=function(b){a.direction=b;return"next"===b?a.currentSlide===a.last?0:a.currentSlide+1:0===a.currentSlide?a.last:a.currentSlide-1};a.setProps=function(b,c,f){var d,e=b?b:(a.itemW+a.vars.itemMargin)*a.move*a.animatingTo;d=-1*function(){if(l)return"setTouch"===c?b:m&&a.animatingTo===a.last?0:m?a.limit-(a.itemW+a.vars.itemMargin)*a.move*
a.animatingTo:a.animatingTo===a.last?a.limit:e;switch(c){case "setTotal":return m?(a.count-1-a.currentSlide+a.cloneOffset)*b:(a.currentSlide+a.cloneOffset)*b;case "setTouch":return b;case "jumpEnd":return m?b:a.count*b;case "jumpStart":return m?a.count*b:b;default:return b}}()+"px";a.transitions&&(d=n?"translate3d(0,"+d+",0)":"translate3d("+d+",0,0)",f=void 0!==f?f/1E3+"s":"0s",a.container.css("-"+a.pfx+"-transition-duration",f));a.args[a.prop]=d;(a.transitions||void 0===f)&&a.container.css(a.args)};
a.setup=function(b){if(q)a.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===b&&(u?a.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+a.vars.animationSpeed/1E3+"s ease",zIndex:1}).eq(a.currentSlide).css({opacity:1,zIndex:2}):a.slides.css({opacity:0,display:"block",zIndex:1}).eq(a.currentSlide).css({zIndex:2}).animate({opacity:1},a.vars.animationSpeed,a.vars.easing)),a.vars.smoothHeight&&g.smoothHeight();else{var c,f;"init"===b&&(a.viewport=
d('<div class="'+e+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(a).append(a.container),a.cloneCount=0,a.cloneOffset=0,m&&(f=d.makeArray(a.slides).reverse(),a.slides=d(f),a.container.empty().append(a.slides)));a.vars.animationLoop&&!l&&(a.cloneCount=2,a.cloneOffset=1,"init"!==b&&a.container.find(".clone").remove(),a.container.append(a.slides.first().clone().addClass("clone").attr("aria-hidden","true")).prepend(a.slides.last().clone().addClass("clone").attr("aria-hidden",
"true")));a.newSlides=d(a.vars.selector,a);c=m?a.count-1-a.currentSlide+a.cloneOffset:a.currentSlide+a.cloneOffset;n&&!l?(a.container.height(200*(a.count+a.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){a.newSlides.css({display:"block"});a.doMath();a.viewport.height(a.h);a.setProps(c*a.h,"init")},"init"===b?100:0)):(a.container.width(200*(a.count+a.cloneCount)+"%"),a.setProps(c*a.computedW,"init"),setTimeout(function(){a.doMath();a.newSlides.css({width:a.computedW,
"float":"left",display:"block"});a.vars.smoothHeight&&g.smoothHeight()},"init"===b?100:0))}l||a.slides.removeClass(e+"active-slide").eq(a.currentSlide).addClass(e+"active-slide")};a.doMath=function(){var b=a.slides.first(),c=a.vars.itemMargin,d=a.vars.minItems,e=a.vars.maxItems;a.w=a.width();a.h=b.height();a.boxPadding=b.outerWidth()-b.width();l?(a.itemT=a.vars.itemWidth+c,a.minW=d?d*a.itemT:a.w,a.maxW=e?e*a.itemT-c:a.w,a.itemW=a.minW>a.w?(a.w-c*(d-1))/d:a.maxW<a.w?(a.w-c*(e-1))/e:a.vars.itemWidth>
a.w?a.w:a.vars.itemWidth,a.visible=Math.floor(a.w/a.itemW),a.move=0<a.vars.move&&a.vars.move<a.visible?a.vars.move:a.visible,a.pagingCount=Math.ceil((a.count-a.visible)/a.move+1),a.last=a.pagingCount-1,a.limit=1===a.pagingCount?0:a.vars.itemWidth>a.w?a.itemW*(a.count-1)+c*(a.count-1):(a.itemW+c)*a.count-a.w-c):(a.itemW=a.w,a.pagingCount=a.count,a.last=a.count-1);a.computedW=a.itemW-a.boxPadding};a.update=function(b,c){a.doMath();l||(b<a.currentSlide?a.currentSlide+=1:b<=a.currentSlide&&0!==b&&(a.currentSlide-=
1),a.animatingTo=a.currentSlide);if(a.vars.controlNav&&!a.manualControls)if("add"===c&&!l||a.pagingCount>a.controlNav.length)g.controlNav.update("add");else if("remove"===c&&!l||a.pagingCount<a.controlNav.length)l&&a.currentSlide>a.last&&(a.currentSlide-=1,a.animatingTo-=1),g.controlNav.update("remove",a.last);a.vars.directionNav&&g.directionNav.update()};a.addSlide=function(b,c){var e=d(b);a.count+=1;a.last=a.count-1;n&&m?void 0!==c?a.slides.eq(a.count-c).after(e):a.container.prepend(e):void 0!==
c?a.slides.eq(c).before(e):a.container.append(e);a.update(c,"add");a.slides=d(a.vars.selector+":not(.clone)",a);a.setup();a.vars.added(a)};a.removeSlide=function(b){var c=isNaN(b)?a.slides.index(d(b)):b;a.count-=1;a.last=a.count-1;isNaN(b)?d(b,a.slides).remove():n&&m?a.slides.eq(a.last).remove():a.slides.eq(b).remove();a.doMath();a.update(c,"remove");a.slides=d(a.vars.selector+":not(.clone)",a);a.setup();a.vars.removed(a)};g.init()};d(window).blur(function(){focused=!1}).focus(function(){focused=
!0});d.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7E3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",
manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}};d.fn.flexslider=function(h){void 0===h&&(h={});if("object"===typeof h)return this.each(function(){var a=d(this),e=a.find(h.selector?h.selector:".slides > li");1===e.length?(e.fadeIn(400),h.start&&h.start(a)):void 0===a.data("flexslider")&&new d.flexslider(this,h)});var k=d(this).data("flexslider");
switch(h){case "play":k.play();break;case "pause":k.pause();break;case "stop":k.stop();break;case "next":k.flexAnimate(k.getTarget("next"),!0);break;case "prev":case "previous":k.flexAnimate(k.getTarget("prev"),!0);break;default:"number"===typeof h&&k.flexAnimate(h,!0)}}})(jQuery);